<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi Tool Hub - Fully Functional</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- LATEST TECH: CDN Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.1/dist/browser-image-compression.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@imgly/background-removal@1.4.0/dist/bundle.min.js"></script>
    <!-- NEW: CDN for PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script>
        // Set the worker source for PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js`;
    </script>

    <style>
        /* All CSS is the same as the previous version, no changes needed here */
        :root {
            --bg-color: #0F0F1B;
            --text-color: #E0E0E0;
            --text-muted: #A0A0B0;
            --accent-primary: #FACC15; /* Yellow */
            --accent-secondary: #FB923C; /* Orange */
            --accent-gradient: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary));
            --glass-bg: rgba(28, 30, 51, 0.5);
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.5);
            --shadow-glow: rgba(250, 204, 21, 0.15);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --border-radius: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: var(--bg-color); color: var(--text-color); line-height: 1.7; min-height: 100vh; overflow-x: hidden; position: relative; }
        body::before, body::after { content: ''; position: fixed; z-index: -1; filter: blur(100px); -webkit-filter: blur(100px); }
        body::before { width: 400px; height: 400px; background: radial-gradient(circle, var(--accent-primary), transparent 60%); top: -10%; left: -10%; opacity: 0.3; animation: moveGlow1 25s infinite alternate; }
        body::after { width: 500px; height: 500px; background: radial-gradient(circle, var(--accent-secondary), transparent 60%); bottom: -15%; right: -15%; opacity: 0.2; animation: moveGlow2 30s infinite alternate; }
        @keyframes moveGlow1 { from { transform: translate(-10%, -10%) rotate(0deg); } to { transform: translate(20%, 30%) rotate(180deg); } }
        @keyframes moveGlow2 { from { transform: translate(15%, 15%) rotate(0deg); } to { transform: translate(-25%, -20%) rotate(-180deg); } }
        header { background: var(--glass-bg); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); padding: 1.5rem; text-align: center; box-shadow: 0 4px 30px var(--shadow-color); position: fixed; top: 0; left: 0; right: 0; z-index: 100; border-bottom: 1px solid var(--border-color); }
        body { padding-top: 180px; }
        .header-content { max-width: 1200px; margin: 0 auto; }
        header h1 { font-size: 2.8rem; font-weight: 700; background: var(--accent-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; margin-bottom: 0.5rem; }
        .tagline { font-size: 1.1rem; color: var(--text-muted); max-width: 600px; margin: 0 auto 1.2rem; }
        .stats { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; }
        .stat-item { display: flex; align-items: center; gap: 8px; background: rgba(255, 255, 255, 0.05); padding: 8px 18px; border-radius: 50px; font-size: 0.9rem; border: 1px solid var(--border-color); transition: var(--transition); }
        .stat-item:hover { transform: translateY(-3px); background: rgba(255, 255, 255, 0.1); }
        .stat-item i { color: var(--accent-primary); }
        .container { max-width: 1400px; margin: 3rem auto; padding: 0 1.5rem; }
        .section-title { text-align: center; margin-bottom: 3.5rem; font-size: 2.5rem; font-weight: 600; }
        .tools-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }
        .tool-card { background: var(--glass-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--border-radius); padding: 2rem; text-align: left; transition: var(--transition); box-shadow: 0 8px 32px var(--shadow-color); border: 1px solid var(--border-color); cursor: pointer; position: relative; overflow: hidden; }
        .tool-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at var(--mouse-x) var(--mouse-y), rgba(255, 255, 255, 0.1), transparent 40%); opacity: 0; transition: opacity 0.4s; }
        .tool-card:hover::before { opacity: 1; }
        .tool-card:hover { transform: translateY(-8px); box-shadow: 0 12px 40px var(--shadow-color), 0 0 20px var(--shadow-glow); border-color: rgba(250, 204, 21, 0.5); }
        .tool-icon-wrapper { background: rgba(255, 255, 255, 0.05); width: 70px; height: 70px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 1.5rem; transition: var(--transition); }
        .tool-card:hover .tool-icon-wrapper { background: var(--accent-gradient); }
        .tool-icon { font-size: 2.5rem; color: var(--accent-primary); transition: var(--transition); }
        .tool-card:hover .tool-icon { color: var(--bg-color); transform: scale(1.1) rotate(-5deg); }
        .tool-title { font-size: 1.5rem; font-weight: 600; margin-bottom: 0.8rem; }
        .tool-desc { color: var(--text-muted); font-size: 1rem; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); z-index: 1000; align-items: center; justify-content: center; padding: 1rem; opacity: 0; transition: opacity 0.4s ease; }
        .modal.active { display: flex; opacity: 1; }
        .modal-content { background: var(--glass-bg); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border-radius: var(--border-radius); max-width: 900px; width: 100%; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 50px var(--shadow-color); position: relative; padding: 2.5rem; transform: scale(0.95); transition: transform 0.4s ease; border: 1px solid var(--border-color); }
        .modal.active .modal-content { transform: scale(1); }
        .close-btn { position: absolute; top: 15px; right: 20px; font-size: 2rem; color: var(--text-muted); cursor: pointer; transition: var(--transition); background: none; border: none; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; border-radius: 50%; }
        .close-btn:hover { color: var(--accent-primary); background: rgba(255, 255, 255, 0.1); transform: rotate(90deg); }
        .modal-header { margin-bottom: 2rem; text-align: center; }
        .modal-header h2 { font-size: 2.2rem; font-weight: 600; background: var(--accent-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; margin-bottom: 0.5rem; }
        .modal-subtitle { color: var(--text-muted); font-size: 1.1rem; }
        .tool-container { padding: 1rem 0; }
        .tool-layout { display: grid; grid-template-columns: 1fr; gap: 2rem; }
        .tool-layout.two-column { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .input-group { margin-bottom: 1.5rem; position: relative; }
        .input-group label { display: block; margin-bottom: 0.8rem; font-weight: 500; font-size: 1.1rem; }
        input, select, textarea, button { width: 100%; padding: 1rem 1.2rem; border-radius: 12px; border: 1px solid var(--border-color); background: rgba(0, 0, 0, 0.2); color: var(--text-color); font-size: 1rem; transition: var(--transition); }
        input:focus, select:focus, textarea:focus { outline: none; border-color: var(--accent-primary); box-shadow: 0 0 0 4px var(--shadow-glow); }
        input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(0.8); cursor: pointer; }
        input[type="color"] { padding: 0.5rem; height: 60px; cursor: pointer; }
        textarea { resize: vertical; min-height: 120px; }
        button { background: var(--accent-gradient); color: var(--bg-color); border: none; font-weight: 600; cursor: pointer; margin-top: 1rem; font-size: 1.1rem; letter-spacing: 0.5px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); }
        button:hover { transform: translateY(-3px); box-shadow: 0 8px 25px var(--shadow-color); }
        button:disabled { background: var(--text-muted); cursor: not-allowed; }
        .result-container { background: rgba(0, 0, 0, 0.2); border-radius: var(--border-radius); padding: 1.5rem; margin-top: 1.5rem; border: 1px solid var(--border-color); }
        .result-title { font-size: 1.3rem; margin-bottom: 1rem; color: var(--text-color); font-weight: 500; display: flex; align-items: center; gap: 10px; }
        .result-title i { color: var(--accent-primary); font-size: 1.2rem; }
        .result-content { word-wrap: break-word; line-height: 1.8; font-size: 1.1rem; color: var(--text-muted); }
        .file-drop-area { border: 2px dashed var(--border-color); border-radius: var(--border-radius); padding: 2.5rem; text-align: center; cursor: pointer; transition: var(--transition); background: rgba(0,0,0,0.1); }
        .file-drop-area.dragover { border-color: var(--accent-primary); background: rgba(250, 204, 21, 0.1); }
        .file-drop-area i { font-size: 3rem; color: var(--accent-primary); margin-bottom: 1rem; }
        .notification { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(150%); padding: 1rem 1.5rem; border-radius: 12px; background: var(--glass-bg); backdrop-filter: blur(10px); border: 1px solid var(--border-color); color: var(--text-color); font-weight: 500; box-shadow: 0 8px 25px var(--shadow-color); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 2000; display: flex; align-items: center; gap: 12px; }
        .notification.show { transform: translateX(-50%) translateY(0); }
        .notification i { color: var(--accent-primary); }
        #fileList { list-style: none; margin-top: 1rem; max-height: 150px; overflow-y: auto; background: rgba(0,0,0,0.1); padding: 1rem; border-radius: 8px;}
        #fileList li { padding: 0.5rem; border-bottom: 1px solid var(--border-color); font-size: 0.9rem; }
        .progress-bar { width: 100%; background: rgba(0,0,0,0.3); border-radius: 8px; padding: 3px; margin-top: 1rem; display: none; }
        .progress-bar-inner { width: 0%; height: 10px; background: var(--accent-gradient); border-radius: 5px; transition: width 0.3s ease; }
        #progressText { text-align: center; font-size: 0.9rem; margin-top: 0.5rem; color: var(--text-muted); }
        .ad-container { background: rgba(0,0,0,0.15); border: 1px dashed var(--border-color); border-radius: var(--border-radius); padding: 1rem; margin: 3rem 0; text-align: center; position: relative; }
        .ad-label { position: absolute; top: 8px; left: 12px; font-size: 0.75rem; color: var(--text-muted); }
        .ad-placeholder-content { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 90px; color: var(--text-muted); }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Multi Tool Hub</h1>
            <p class="tagline">Your all-in-one solution for everyday digital tasks. Fast, secure, and beautiful.</p>
            <div class="stats">
                <div class="stat-item"><i class="fas fa-tools"></i><span>16 Tools</span></div>
                <div class="stat-item"><i class="fas fa-shield-halved"></i><span>100% Client-Side</span></div>
                <div class="stat-item"><i class="fas fa-bolt"></i><span>Blazing Fast</span></div>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Ad container and other structure remains the same -->
        <h2 class="section-title">Explore Our Tools</h2>
        <div class="tools-grid"></div>
    </div>

    <div class="modal" id="toolModal">
        <!-- Modal structure remains the same -->
    </div>

    <div class="notification" id="notification">
        <!-- Notification structure remains the same -->
    </div>

    <footer class="footer">
        <!-- Footer structure remains the same -->
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const tools = [
            { id: 'imageConverter', icon: 'fas fa-exchange-alt', name: 'Image Format Converter', desc: 'Convert between JPG, PNG, and WEBP formats.' },
            { id: 'imageCompressor', icon: 'fas fa-compress-alt', name: 'Image Compressor', desc: 'Reduce file size with minimal quality loss.' },
            { id: 'backgroundRemover', icon: 'fas fa-wand-magic-sparkles', name: 'AI Background Remover', desc: 'Automatically remove the background from any image.' },
            { id: 'pdfConverter', icon: 'fas fa-file-pdf', name: 'Image to PDF Converter', desc: 'Combine multiple images into a single PDF file.' },
            { id: 'pdfTextExtractor', icon: 'fas fa-file-alt', name: 'PDF Text Extractor', desc: 'Extract all text content from a PDF file.' },
            { id: 'qrGenerator', icon: 'fas fa-qrcode', name: 'QR Code Generator', desc: 'Create QR codes for URLs and text.' },
            { id: 'passwordGenerator', icon: 'fas fa-key', name: 'Password Generator', desc: 'Create secure, random passwords instantly.' },
            { id: 'ageCalculator', icon: 'fas fa-birthday-cake', name: 'Age Calculator', desc: 'Find your exact age in years, months, and days.' },
            { id: 'emiCalculator', icon: 'fas fa-calculator', name: 'EMI Calculator', desc: 'Calculate your Equated Monthly Installments.' },
            { id: 'wordCounter', icon: 'fas fa-font', name: 'Word & Character Counter', desc: 'Analyze text for counts and reading time.' },
            { id: 'colorPicker', icon: 'fas fa-palette', name: 'Color Picker', desc: 'Pick colors and get HEX, RGB, HSL values.' },
            { id: 'base64Converter', icon: 'fas fa-code', name: 'Base64 Converter', desc: 'Encode and decode strings to/from Base64.' },
            { id: 'bmiCalculator', icon: 'fas fa-weight', name: 'BMI Calculator', desc: 'Calculate your Body Mass Index quickly.' },
            { id: 'timerStopwatch', icon: 'fas fa-stopwatch', name: 'Timer & Stopwatch', desc: 'Track time with precision and ease.' },
            { id: 'jsonFormatter', icon: 'fas fa-brackets-curly', name: 'JSON Formatter', desc: 'Format, validate, and beautify JSON data.' },
            { id: 'textToSpeech', icon: 'fas fa-volume-up', name: 'Text to Speech', desc: 'Convert text into natural-sounding audio.' },
        ];
        
        const modalAdTemplate = `<div class="ad-container"><span class="ad-label">Advertisement</span><div class="ad-placeholder-content"><p>Your Ad Here</p><span>In-Tool Ad Unit</span></div></div>`;

        const toolTemplates = {
            // ... (All previous 15 tool templates are here) ...
            
            // --- NEWLY ADDED TOOL ---
            pdfTextExtractor: `
                <div class="tool-layout two-column">
                    <div>
                        <div class="file-drop-area" id="fileDropArea"><i class="fas fa-file-pdf"></i><p>Drop a PDF here or click to select</p></div>
                        <input type="file" id="fileInput" accept="application/pdf" hidden>
                        <button id="extractBtn" disabled>Extract Text</button>
                    </div>
                    <div class="result-container" id="resultContainer" style="display:none;">
                        <div class="result-title"><i class="fas fa-file-alt"></i>Extracted Text</div>
                        <textarea id="extractedText" readonly style="min-height: 250px;"></textarea>
                        <button id="copyBtn" style="width: 100%;">Copy Text</button>
                    </div>
                </div>`,
        };
        
        // --- Core JS logic (unchanged) ---
        const toolsGrid = document.querySelector('.tools-grid');
        const modal = document.getElementById('toolModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalSubtitle = document.getElementById('modalSubtitle');
        const toolContainer = document.getElementById('toolContainer');
        const closeBtn = document.querySelector('.close-btn');
        const notification = document.getElementById('notification');
        
        function init() { /* ... unchanged ... */ }
        function populateTools() {
            document.querySelector('.stat-item span').textContent = `${tools.length} Tools`;
            toolsGrid.innerHTML = tools.map(tool => `
                <div class="tool-card" data-tool="${tool.id}">
                    <div class="tool-icon-wrapper"><i class="tool-icon ${tool.icon}"></i></div>
                    <div><h3 class="tool-title">${tool.name}</h3><p class="tool-desc">${tool.desc}</p></div>
                </div>`).join('');
            // ... rest of populateTools is unchanged
        }
        function addEventListeners() { /* ... unchanged ... */ }
        function openTool(toolId) { /* ... unchanged ... */ }
        function closeModal() { /* ... unchanged ... */ }
        function showNotification(message, isSuccess = true) { /* ... unchanged ... */ }
        function setButtonLoading(button, isLoading, originalText = 'Process') { /* ... unchanged ... */ }
        function copyToClipboard(text, successMessage) { /* ... unchanged ... */ }
        function handleFileDrop(area, input, onFile) { /* ... unchanged ... */ }

        // --- Tool Initializers ---
        function initToolScript(toolId){
            switch(toolId) {
                // ... (all previous 15 cases) ...
                case 'pdfTextExtractor': initPdfTextExtractor(); break;
            }
        }
        
        // --- Full Tool Scripts ---
        
        async function initPdfTextExtractor() {
            const fileDropArea = document.getElementById('fileDropArea');
            const fileInput = document.getElementById('fileInput');
            const extractBtn = document.getElementById('extractBtn');
            const resultContainer = document.getElementById('resultContainer');
            const extractedTextEl = document.getElementById('extractedText');
            const copyBtn = document.getElementById('copyBtn');
            let pdfFile = null;

            handleFileDrop(fileDropArea, fileInput, file => {
                if (file.type !== 'application/pdf') {
                    showNotification('Please select a PDF file.', false);
                    return;
                }
                pdfFile = file;
                extractBtn.disabled = false;
                fileDropArea.querySelector('p').textContent = file.name;
            });
            
            extractBtn.addEventListener('click', async () => {
                if (!pdfFile) return;
                
                setButtonLoading(extractBtn, true, 'Extract Text');
                
                const reader = new FileReader();
                reader.readAsArrayBuffer(pdfFile);
                reader.onload = async (e) => {
                    try {
                        const pdf = await pdfjsLib.getDocument(e.target.result).promise;
                        let fullText = '';
                        for (let i = 1; i <= pdf.numPages; i++) {
                            const page = await pdf.getPage(i);
                            const textContent = await page.getTextContent();
                            fullText += textContent.items.map(item => item.str).join(' ') + '\n\n';
                        }
                        extractedTextEl.value = fullText.trim();
                        resultContainer.style.display = 'block';
                        showNotification('Text extracted successfully!');
                    } catch (error) {
                        console.error('Error extracting text from PDF:', error);
                        showNotification('Could not read the PDF file.', false);
                    } finally {
                        setButtonLoading(extractBtn, false, 'Extract Text');
                    }
                };
            });
            
            copyBtn.addEventListener('click', () => {
                if(extractedTextEl.value) {
                    copyToClipboard(extractedTextEl.value, 'Extracted text copied!');
                }
            });
        }
        
        // --- Dummy functions for previously implemented tools ---
        function initImageConverter() { /* implemented */ }
        function initImageCompressor() { /* implemented */ }
        function initBackgroundRemover() { /* implemented */ }
        function initPdfConverter() { /* implemented */ }
        function initQrGenerator() { /* implemented */ }
        function initPasswordGenerator() { /* implemented */ }
        function initAgeCalculator() { /* implemented */ }
        function initEmiCalculator() { /* implemented */ }
        function initWordCounter() { '/* implemented */' }
        function initColorPicker() { /* implemented */ }
        function initBase64Converter() { /* implemented */ }
        function initBmiCalculator() { /* implemented */ }
        function initTimerStopwatch() { /* implemented */ }
        function initJsonFormatter() { /* implemented */ }
        function initTextToSpeech() { /* implemented */ }

        // --- Start the App ---
        init();
    });
    </script>
</body>
</html>
